"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function breadthFirstSearch(t,e,a,r){var o=[];if(e(t))return[t];o.push(new searchNode(null,t,null));for(var s=[];0!==o.length;){var g=o.shift(),n=[],u=a(g.state);s.push(g.state);for(var l=0;l<u.length;l++){var d=r(g.state,u[l]),h=new searchNode(u[l],d,g);if(e(d))return h.getPath();s.indexOf(d)!==-1||o.map(function(t){return t.state}).indexOf(h.state)!==-1||(n.push(d),o.push(h))}}}function goalTest(t){return"goal"===t.state}function actions(t){var e=(gameMap.nodes,[]),a=t.x,r=t.y;if(0===a&&r===t.rows-1?(getTargetNode(a,r-1).state&&"goal"!==getTargetNode(a,r-1).state||e.push("down"),getTargetNode(a+1,r).state&&"goal"!==getTargetNode(a+1,r).state||e.push("right")):a===t.columns-1&&r===t.rows-1?(getTargetNode(a,r-1).state&&"goal"!==getTargetNode(a,r-1).state||e.push("down"),getTargetNode(a-1,r).state&&"goal"!==getTargetNode(a-1,r).state||e.push("left")):a>=1&&a<t.columns-1&&r===t.rows-1?(getTargetNode(a-1,r).state&&"goal"!==getTargetNode(a-1,r).state||e.push("left"),getTargetNode(a,r-1).state&&"goal"!==getTargetNode(a,r-1).state||e.push("down"),getTargetNode(a+1,r).state&&"goal"!==getTargetNode(a+1,r).state||e.push("right")):0===a&&1===r?(getTargetNode(a+1,r).state&&"goal"!==getTargetNode(a+1,r).state||e.push("right"),getTargetNode(a,r+1).state&&"goal"!==getTargetNode(a,r+1).state||e.push("up")):a===t.columns-1&&1===r?(getTargetNode(a-1,r).state&&"goal"!==getTargetNode(a-1,r).state||e.push("left"),getTargetNode(a,r+1).state&&"goal"!==getTargetNode(a,r+1).state||e.push("up")):a>=0&&a<t.columns&&1===t.y?(getTargetNode(a-1,r).state&&"goal"!==getTargetNode(a-1,r).state||e.push("left"),getTargetNode(a+1,r).state&&"goal"!==getTargetNode(a+1,r).state||e.push("right"),getTargetNode(a,r+1).state&&"goal"!==getTargetNode(a,r+1).state||e.push("up")):0===a&&r>0&&r<=t.rows-2?(getTargetNode(a,r-1).state&&"goal"!==getTargetNode(a,r-1).state||e.push("down"),getTargetNode(a+1,r).state&&"goal"!==getTargetNode(a+1,r).state||e.push("right"),getTargetNode(a,r+1).state&&"goal"!==getTargetNode(a,r+1).state||e.push("up")):a===t.columns-1&&r>0&&r<=t.rows-1?(getTargetNode(a-1,r).state&&"goal"!==getTargetNode(a-1,r).state||e.push("left"),getTargetNode(a,r-1).state&&"goal"!==getTargetNode(a,r-1).state||e.push("down"),getTargetNode(a,r+1).state&&"goal"!==getTargetNode(a,r+1).state||e.push("up")):(getTargetNode(a-1,r).state&&"goal"!==getTargetNode(a-1,r).state||e.push("left"),getTargetNode(a+1,r).state&&"goal"!==getTargetNode(a+1,r).state||e.push("right"),getTargetNode(a,r-1).state&&"goal"!==getTargetNode(a,r-1).state||e.push("down"),getTargetNode(a,r+1).state&&"goal"!==getTargetNode(a,r+1).state||e.push("up")),console.log("Possible actions from "+a+","+r+": "+e),0===e.length)throw alert("Your adventurer is trapped!"),new Error("Your adventurer is trapped!");return e}function successor(t,e){var a=(gameMap.nodes,t.x),r=t.y;switch(e){case"left":return getTargetNode(a-1,r);case"right":return getTargetNode(a+1,r);case"up":return getTargetNode(a,r+1);case"down":return getTargetNode(a,r-1);default:throw new Error("No successor possible from action "+e+"!")}}var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),searchNode=function(){function t(e,a,r){_classCallCheck(this,t),this.action=e,this.state=a,this.parent=r}return _createClass(t,[{key:"getPath",value:function(){return null===this.parent?[this.action]:this.parent.getPath().concat(this.action)}},{key:"getPathCost",value:function(){return null===this.parent?0:this.parent.getPathCost()+this.action.cost}},{key:"inPath",value:function(t){return t===this.state||null!==this.parent&&this.parent.inPath(t)}}]),t}();